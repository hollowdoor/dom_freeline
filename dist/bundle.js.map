{"version":3,"file":"bundle.js","sources":["../src/lib/create_coordinates.js","../src/lib/set_css.js","../src/index.js"],"sourcesContent":["\nexport default function createCoordinates(line, coords = {}){\n\n    //console.log(coords)\n    /*['x1', 'y1', 'x2', 'y2'].forEach(key=>{\n        if(Number.isNaN(coords[key])){\n            coords[key] = 0;\n        }\n    });*/\n\n    //const setDOMCoords = (x, y, length, angle) =>{\n    function setDOMCoords(x, y, length, angle){\n        line.element.style.width = length + 'px';\n        line.element.style.transform = 'rotate(' + angle + 'rad)';\n        line.element.style.top = y + 'px';\n        line.element.style.left = x + 'px';\n    }\n\n    function setLineCoords(){\n\n        let {x1, y1, x2, y2} = coords;\n\n        let a = x1 - x2,\n            b = y1 - y2,\n            c = Math.sqrt(a * a + b * b);\n\n        let sx = (x1 + x2) / 2,\n            sy = (y1 + y2) / 2;\n\n        let x = sx - c / 2,\n            y = sy;\n\n        let alpha = Math.PI - Math.atan2(-b, a);\n\n        return setDOMCoords(x, y, c, alpha);\n    }\n\n    setLineCoords();\n\n    return Object.create(null, {\n        x1: {\n            get(){\n                return coords.x1;\n            },\n            set(_x1){\n                coords.x1 = parseInt(_x1);\n                setLineCoords();\n            }\n        },\n        x2: {\n            get(){\n                return coords.x2;\n            },\n            set(_x2){\n                coords.x2 = parseInt(_x2);\n                setLineCoords();\n            }\n        },\n        y1: {\n            get(){\n                return coords.y1;\n            },\n            set(_y1){\n                coords.y1 = parseInt(_y1);\n                setLineCoords();\n            }\n        },\n        y2: {\n            get(){\n                return coords.y2;\n            },\n            set(_y2){\n                coords.y2 = parseInt(_y2);\n                setLineCoords();\n            }\n        }\n    });\n\n}\n","import css from 'dom-css';\nexport default function setCss(line, styles){\n    if(styles.hasOwnProperty('width')){\n        line.width = styles.width;\n        //this.element.style.height = styles.width + 'px';\n        delete styles.width;\n    }\n\n    if(styles.hasOwnProperty('height')){\n        delete styles.height;\n    }\n\n    css(line.element, styles);\n}\n","import createCoordinates from './lib/create_coordinates.js';\nimport setCss from './lib/set_css.js';\n\nclass DOMFreeLine {\n    constructor(element, {\n        x1 = 0,\n        y1 = 0,\n        x2 = 0,\n        y2 = 0,\n        width = 1\n    } = {}){\n        this.element = element;\n\n        this.element.style.backgroundColor = 'black';\n        this.element.style.height = width + 'px';\n        this.element.style.position = 'absolute';\n\n        this._coords = createCoordinates(this, {\n            x1, y1, x2, y2\n        });\n    }\n    clone(coords = {}){\n        return new (this.constructor)(\n            this.element.cloneNode(true),\n            Object.assign({\n                x1: this.x1,\n                y1: this.y1,\n                x2: this.x2,\n                y2: this.y2,\n                width: this.width\n            }, coords)\n        );\n    }\n    css(styles){\n        setCss(this, styles);\n        return this;\n    }\n    set width(w){\n        this.element.style.height = w + 'px';\n        this._width = w;\n    }\n    get width(){\n        return this._width;\n    }\n    set x1(x1){\n        this._coords.x1 = x1;\n    }\n    set x2(x2){\n        this._coords.x2 = x2;\n    }\n    set y1(y1){\n        this._coords.y1 = y1;\n    }\n    set y2(y2){\n        this._coords.y2 = y2;\n    }\n    get x1(){\n        return this._coords.x1;\n    }\n    get x2(){\n        return this._coords.x2;\n    }\n    get y1(){\n        return this._coords.y1;\n    }\n    get y2(){\n        return this._coords.y2;\n    }\n}\n\nexport default function freeLine(element, options){\n    return new DOMFreeLine(element, options);\n}\n"],"names":["let"],"mappings":"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"}